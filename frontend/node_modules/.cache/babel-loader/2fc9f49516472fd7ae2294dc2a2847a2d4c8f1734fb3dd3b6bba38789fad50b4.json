{"ast":null,"code":"import{useState,useEffect}from'react';import{Container,Grid,Card,CardContent,Typography,Box,CircularProgress,Alert}from'@mui/material';import{People,VideoLibrary,MonetizationOn,AccountBalance}from'@mui/icons-material';import api from'../../utils/api';import PageHeader from'../../components/common/PageHeader';import StatCard from'../../components/common/StatCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminDashboard(){var _stats$recentActivity;const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{try{const response=await api.get('/admin/stats');setStats(response.data);}catch(err){console.error('Admin stats error:',err);setError('Failed to load dashboard statistics');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"400px\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mt:3},children:error})});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(PageHeader,{title:\"Admin Dashboard\",subtitle:\"Overview of platform statistics\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Total Users\",value:(stats===null||stats===void 0?void 0:stats.totalUsers)||0,icon:People,color:\"primary\",subtitle:`${(stats===null||stats===void 0?void 0:stats.activeUsers)||0} active`})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Total Videos\",value:(stats===null||stats===void 0?void 0:stats.totalVideos)||0,icon:VideoLibrary,color:\"info\",subtitle:`${(stats===null||stats===void 0?void 0:stats.activeVideos)||0} active`})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Total Points\",value:(stats===null||stats===void 0?void 0:stats.totalPoints)||0,icon:MonetizationOn,color:\"success\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(StatCard,{title:\"Pending Withdrawals\",value:(stats===null||stats===void 0?void 0:stats.pendingWithdrawals)||0,icon:AccountBalance,color:\"warning\",subtitle:`RWF ${(stats===null||stats===void 0?void 0:stats.pendingAmount)||0}`})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mt:3},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Recent Activity\"}),stats===null||stats===void 0?void 0:(_stats$recentActivity=stats.recentActivity)===null||_stats$recentActivity===void 0?void 0:_stats$recentActivity.map((activity,index)=>/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:new Date(activity.timestamp).toLocaleString()}),/*#__PURE__*/_jsx(Typography,{children:activity.description})]},index)),(!(stats!==null&&stats!==void 0&&stats.recentActivity)||stats.recentActivity.length===0)&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",textAlign:\"center\",children:\"No recent activity\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"System Status\"}),/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Server Status\"}),/*#__PURE__*/_jsx(Typography,{color:\"success.main\",children:\"Operational\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Last Updated\"}),/*#__PURE__*/_jsx(Typography,{children:new Date().toLocaleString()})]})]})})})]})]});}","map":{"version":3,"names":["useState","useEffect","Container","Grid","Card","CardContent","Typography","Box","CircularProgress","Alert","People","VideoLibrary","MonetizationOn","AccountBalance","api","PageHeader","StatCard","jsx","_jsx","jsxs","_jsxs","AdminDashboard","_stats$recentActivity","stats","setStats","loading","setLoading","error","setError","fetchStats","response","get","data","err","console","display","justifyContent","alignItems","minHeight","children","severity","sx","mt","title","subtitle","container","spacing","item","xs","sm","md","value","totalUsers","icon","color","activeUsers","totalVideos","activeVideos","totalPoints","pendingWithdrawals","pendingAmount","variant","gutterBottom","recentActivity","map","activity","index","mb","Date","timestamp","toLocaleString","description","length","textAlign"],"sources":["C:/Users/tuyizere dieudonne/SOCIALRISE X1/SOCIALRISE X/frontend/src/pages/admin/Dashboard.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Box,\r\n  CircularProgress,\r\n  Alert\r\n} from '@mui/material';\r\nimport {\r\n  People,\r\n  VideoLibrary,\r\n  MonetizationOn,\r\n  AccountBalance\r\n} from '@mui/icons-material';\r\nimport api from '../../utils/api';\r\nimport PageHeader from '../../components/common/PageHeader';\r\nimport StatCard from '../../components/common/StatCard';\r\n\r\nexport default function AdminDashboard() {\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await api.get('/admin/stats');\r\n      setStats(response.data);\r\n    } catch (err) {\r\n      console.error('Admin stats error:', err);\r\n      setError('Failed to load dashboard statistics');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container>\r\n        <Alert severity=\"error\" sx={{ mt: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <PageHeader \r\n        title=\"Admin Dashboard\" \r\n        subtitle=\"Overview of platform statistics\"\r\n      />\r\n\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <StatCard\r\n            title=\"Total Users\"\r\n            value={stats?.totalUsers || 0}\r\n            icon={People}\r\n            color=\"primary\"\r\n            subtitle={`${stats?.activeUsers || 0} active`}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <StatCard\r\n            title=\"Total Videos\"\r\n            value={stats?.totalVideos || 0}\r\n            icon={VideoLibrary}\r\n            color=\"info\"\r\n            subtitle={`${stats?.activeVideos || 0} active`}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <StatCard\r\n            title=\"Total Points\"\r\n            value={stats?.totalPoints || 0}\r\n            icon={MonetizationOn}\r\n            color=\"success\"\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <StatCard\r\n            title=\"Pending Withdrawals\"\r\n            value={stats?.pendingWithdrawals || 0}\r\n            icon={AccountBalance}\r\n            color=\"warning\"\r\n            subtitle={`RWF ${stats?.pendingAmount || 0}`}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Grid container spacing={3} sx={{ mt: 3 }}>\r\n        <Grid item xs={12} md={6}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Recent Activity\r\n              </Typography>\r\n              {stats?.recentActivity?.map((activity, index) => (\r\n                <Box key={index} sx={{ mb: 2 }}>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {new Date(activity.timestamp).toLocaleString()}\r\n                  </Typography>\r\n                  <Typography>{activity.description}</Typography>\r\n                </Box>\r\n              ))}\r\n              {(!stats?.recentActivity || stats.recentActivity.length === 0) && (\r\n                <Typography variant=\"body2\" color=\"text.secondary\" textAlign=\"center\">\r\n                  No recent activity\r\n                </Typography>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={6}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                System Status\r\n              </Typography>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Server Status\r\n                </Typography>\r\n                <Typography color=\"success.main\">\r\n                  Operational\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Last Updated\r\n                </Typography>\r\n                <Typography>\r\n                  {new Date().toLocaleString()}\r\n                </Typography>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}